language: go

before_script:
  # Notify Code Climate of impending test run.
  - curl --location
      https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 >
      $HOME/bin/code-climate
  - chmod +x $HOME/bin/code-climate
  - code-climate before-build

script:
  # Add coverage information to build log.
  - go test -coverprofile c.out ./...

after_script:
  # Notify Code Climate of completed test run.
  - code-climate after-build --exit-code $TRAVIS_TEST_RESULT

notifications:
  email: false

git:
  depth: 1
  quiet: true

env:
  global:
    - secure: "YbjZHp4OwBalfPUQiyL6aNDzYUwphr9zBmi5OwA1rLUtDCf58vZ43VtKrTaa426oxFBzxLsmz+N+mL+LP3JVgkhFOJC0E+w9nkNt6ZgfiRs5sl580OCOdMgb1f1Yq4G1jm2hcEUPUZxO+T6Kg74QMttvo1lAwA3DveRv6cP+Kj6rGpFpL66Sesu0hYXxlhviz4YFYIizRdCvEeSxnAGH9ekWKnmg1HBPpQ6vJRuo8Td9pudZQIeDemgi/mYiK3F7VObBIG5JhMAMTSYrahYtlvcytEzvDjbP8l2o9baksaijDchOyZOuPsed62s0xD7miwc97UYfonsvYaZeri+cJGEcRTg6EAjBgdIi+u6QTAYLSTp0b59fe2e9aBVDS9Bl0+6kJ3jl5V78RIljc1QFfZGqS+w7b1NG9TOYZ8F9ZgZ0pZbqyIjnGv0L/VtEvLujoqNdAcItUT4h4zs0tFtTH+ODW7n3zk/i2/M/v7RGy9KWoh4f6JJWB8pljJAlTLalmvCh88ODOvWYNOBYFSOY2727qbZ5AFYs+0t63ULPpEAM+TOAE+0Baha+zArLMVGjXoXIrmSW3VZgkrnga83vCTsvO7wW2QX7wb7ozTThIxySV2cNWvqe4rFVj2tiB3d4WsVbYkkICa5R2GXNf8QF1a+omvj+23+mNh8hEDWYKb0="
